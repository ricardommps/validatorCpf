{"ast":null,"code":";\n\n(function (commonjs) {\n  // Blacklist common values.\n  var BLACKLIST = [\"00000000000000\", \"11111111111111\", \"22222222222222\", \"33333333333333\", \"44444444444444\", \"55555555555555\", \"66666666666666\", \"77777777777777\", \"88888888888888\", \"99999999999999\"];\n  var STRICT_STRIP_REGEX = /[-\\/.]/g;\n  var LOOSE_STRIP_REGEX = /[^\\d]/g;\n\n  var verifierDigit = function verifierDigit(numbers) {\n    var index = 2;\n    var reverse = numbers.split(\"\").reduce(function (buffer, number) {\n      return [parseInt(number, 10)].concat(buffer);\n    }, []);\n    var sum = reverse.reduce(function (buffer, number) {\n      buffer += number * index;\n      index = index === 9 ? 2 : index + 1;\n      return buffer;\n    }, 0);\n    var mod = sum % 11;\n    return mod < 2 ? 0 : 11 - mod;\n  };\n\n  var CNPJ = {};\n\n  CNPJ.format = function (number) {\n    return this.strip(number).replace(/^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/, \"$1.$2.$3/$4-$5\");\n  };\n\n  CNPJ.strip = function (number, strict) {\n    var regex = strict ? STRICT_STRIP_REGEX : LOOSE_STRIP_REGEX;\n    return (number || \"\").toString().replace(regex, \"\");\n  };\n\n  CNPJ.isValid = function (number, strict) {\n    var stripped = this.strip(number, strict); // CNPJ must be defined\n\n    if (!stripped) {\n      return false;\n    } // CNPJ must have 14 chars\n\n\n    if (stripped.length !== 14) {\n      return false;\n    } // CNPJ can't be blacklisted\n\n\n    if (BLACKLIST.indexOf(stripped) >= 0) {\n      return false;\n    }\n\n    var numbers = stripped.substr(0, 12);\n    numbers += verifierDigit(numbers);\n    numbers += verifierDigit(numbers);\n    return numbers.substr(-2) === stripped.substr(-2);\n  };\n\n  CNPJ.generate = function (formatted) {\n    var numbers = \"\";\n\n    for (var i = 0; i < 12; i++) {\n      numbers += Math.floor(Math.random() * 9);\n    }\n\n    numbers += verifierDigit(numbers);\n    numbers += verifierDigit(numbers);\n    return formatted ? this.format(numbers) : numbers;\n  };\n\n  if (commonjs) {\n    module.exports = CNPJ;\n  } else {\n    window.CNPJ = CNPJ;\n  }\n})(typeof exports !== \"undefined\");","map":null,"metadata":{},"sourceType":"script"}